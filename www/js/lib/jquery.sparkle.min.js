/*
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
 MIT License {@link http://creativecommons.org/licenses/MIT/}
*/
Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);this.length=0>a?this.length+a:a;return this.push.apply(this,c)};Array.prototype.get=function(a,b){"first"===a?a=0:"last"===a?a=this.length-1:"prev"===a?a=this.index-1:"next"===a?a=this.index+1:!a&&0!==a&&(a=this.index);b&&this.setIndex(a);return this.exists(a)?this[a]:void 0};Array.prototype.each=function(a){for(var b=0;b<this.length;++b){var c=this[b];if(!1===a.apply(c,[b,c]))break}return this};
Array.prototype.validIndex=function(a){return 0<=a&&a<this.length};Array.prototype.setIndex=function(a){this.index=this.validIndex(a)?a:null;return this};Array.prototype.current=function(a){return this.get(a,!0)};Array.prototype.isEmpty=function(){return 0===this.length};Array.prototype.isSingle=function(){return 1===this.length};Array.prototype.isNotEmpty=function(){return 0!==this.length};Array.prototype.isNotEmpty=function(){return 1<this.length};
Array.prototype.isLast=function(a){a="undefined"===typeof a?this.index:a;return!this.isEmpty()&&a===this.length-1};Array.prototype.isFirst=function(a){a="undefined"===typeof a?this.index:a;return!this.isEmpty()&&0===a};Array.prototype.clear=function(){this.length=0};Array.prototype.next=function(a){return this.get(this.index+1,a)};Array.prototype.prev=function(a){return this.get(this.index-1,a)};Array.prototype.reset=function(){this.index=null;return this};
Array.prototype.set=function(a,b){if(a<this.length&&0<=a)this[a]=b;else throw Error("Array.prototype.set: [index] above this.length");return this};Array.prototype.loop=function(){return!this.index&&0!==this.index?this.current(0):this.next()};Array.prototype.add=function(){this.push.apply(this,arguments);return this};Array.prototype.insert=function(a,b){"number"!==typeof a&&(a=this.length);var a=a<=this.length?a:this.length,c=this.slice(a);this.length=a;this.push(b);this.push.apply(this,c);return this};
Array.prototype.exists=Array.prototype.exists||function(a){return"undefined"!==typeof this[a]};Array.prototype.has=Array.prototype.has||function(a){for(var b=!1,c=0,d=this.length;c<d;++c)if(a==this[c]){b=!0;break}return b};"undefined"===typeof window.console&&(window.console={});
"undefined"===typeof window.console.emulated&&("function"===typeof window.console.log?window.console.hasLog=!0:("undefined"===typeof window.console.log&&(window.console.log=function(){}),window.console.hasLog=!1),"function"===typeof window.console.debug?window.console.hasDebug=!0:("undefined"===typeof window.console.debug&&(window.console.debug=!window.console.hasLog?function(){}:function(){for(var a=["console.debug:"],b=0;b<arguments.length;b++)a.push(arguments[b]);window.console.log.apply(window.console,
a)}),window.console.hasDebug=!1),"function"===typeof window.console.warn?window.console.hasWarn=!0:("undefined"===typeof window.console.warn&&(window.console.warn=!window.console.hasLog?function(){}:function(){for(var a=["console.warn:"],b=0;b<arguments.length;b++)a.push(arguments[b]);window.console.log.apply(window.console,a)}),window.console.hasWarn=!1),"function"===typeof window.console.error?window.console.hasError=!0:("undefined"===typeof window.console.error&&(window.console.error=function(){var a=
"An error has occured.";if(window.console.hasLog){for(var a=["console.error:"],b=0;b<arguments.length;b++)a.push(arguments[b]);window.console.log.apply(window.console,a);a="An error has occured. More information is available in your browser's javascript console."}for(b=0;b<arguments.length;++b){if(typeof arguments[b]!=="string")break;a=a+("\n"+arguments[b])}if(typeof Error!=="undefined")throw Error(a);throw a;}),window.console.hasError=!1),"function"===typeof window.console.trace?window.console.hasTrace=
!0:("undefined"===typeof window.console.trace&&(window.console.trace=function(){window.console.error("console.trace does not exist")}),window.console.hasTrace=!1),window.console.emulated=!0);Date.prototype.setDatetimestr=Date.prototype.setDatetimestr||function(a){var a=a.split(/[\-\s\:]/g),b=a[3]||0,c=a[4]||0,d=a[5]||0;this.setUTCFullYear(a[0],a[1]-1,a[2]);this.setUTCHours(b);this.setUTCMinutes(c);this.setUTCSeconds(d);return this};
Date.prototype.setDatestr=Date.prototype.setDatestr||function(a){a=a.split(/[\-\s\:]/g);this.setUTCFullYear(a[0]||1978,(a[1]||0)-1,a[2]||1);return this};Date.prototype.setTimestr=Date.prototype.setTimestr||function(a){var a=a.split(/[\-\s\:]/g),b=a[1]||0,c=a[2]||0;this.setUTCHours(a[0]||0);this.setUTCMinutes(b);this.setUTCSeconds(c);return this};Date.prototype.getDatetimestr=Date.prototype.getDatetimestr||function(){return this.getDatestr()+" "+this.getTimestr()};
Date.prototype.getDatestr=Date.prototype.getDatestr||function(){var a,b=this.getUTCFullYear(),c=(this.getUTCMonth()+1).padLeft(0,2);a=this.getUTCDate().padLeft(0,2);return b+"-"+c+"-"+a};Date.prototype.getTimestr=Date.prototype.getTimestr||function(){var a=this.getUTCHours().padLeft(0,2),b=this.getUTCMinutes().padLeft(0,2),c=this.getUTCSeconds().padLeft(0,2);return a+":"+b+":"+c};
Date.prototype.getDatetime=String.prototype.getDatetime||function(){return this.getUTCFullYear()+"-"+(this.getUTCMonth()+1).zeroise(2)+"-"+this.getUTCDate().zeroise(2)+"T"+this.getUTCHours().zeroise(2)+":"+this.getUTCMinutes().zeroise(2)+":"+this.getUTCSeconds().zeroise(2)+"+00:00"};Number.prototype.zeroise=String.prototype.zeroise=String.prototype.zeroise||function(a){var b=this.toString();for(this<0&&(b=b.substr(1,b.length));b.length<a;)b="0"+b;this<0&&(b="-"+b);return b};
Number.prototype.padLeft=String.prototype.padLeft=String.prototype.padLeft||function(a,b){var c="";!a&&a!==0&&(a=" ");do c=c+a;while(c.length<b);return RegExp(".{"+b+"}$").exec(c+(""+this))[0]};Number.prototype.padRight=String.prototype.padRight=String.prototype.padRight||function(a,b){var c="";!a&&a!==0&&(a=" ");do c=c+a;while(c.length<b);return RegExp("^.{"+b+"}").exec(""+this+c)[0]};
Number.prototype.roundTo=String.prototype.roundTo=String.prototype.roundTo||function(){var a=""+parseInt(this,10);return a=parseInt(a.replace(/[1,2]$/,0).replace(/[3,4]$/,5),10)};String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.strip=String.prototype.strip||function(a,b){var a=""+a,c=this;if(a.length){b||(a=a.replace(/([\[\]\(\)\^\$\.\?\|\/\\])/g,"\\$1"));c=c.replace(eval("/^"+a+"+|"+a+"+$/g"),"")}return""+c};
String.prototype.stripLeft=String.prototype.stripLeft||function(a,b){var a=""+a,c=this;if(a.length){b||(a=a.replace(/([\[\]\(\)\^\$\.\?\|\/\\])/g,"\\$1"));c=c.replace(eval("/^"+a+"+/g"),"")}return""+c};String.prototype.stripRight=String.prototype.stripRight||function(a,b){var a=""+a,c=this;if(a.length){b||(a=a.replace(/([\[\]\(\)\^\$\.\?\|\/\\])/g,"\\$1"));c=c.replace(eval("/"+a+"+$/g"),"")}return""+c};String.prototype.toInt=String.prototype.toInt||function(){return parseInt(this,10)};
String.prototype.wrap=String.prototype.wrap||function(a,b){return a+this+b};String.prototype.wrapSelection=String.prototype.wrapSelection||function(a,b,c,d){if(typeof c==="undefined"||c===null)c=this.length;if(typeof d==="undefined"||d===null)d=this.length;return this.substring(0,c)+a+this.substring(c,d)+b+this.substring(d)};String.prototype.toSlug=String.prototype.toSlug||function(){return this.toLowerCase().replace(/[\s_]/g,"-").replace(/[^-a-z0-9]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")};
String.prototype.queryStringToJSON=String.prototype.queryStringToJSON||function(){var a=""+this,a=a.substring(a.indexOf("?")+1),a=a.replace(/\+/g,"%20");if(a.substring(0,1)==="{"&&a.substring(a.length-1)==="}")return eval(decodeURIComponent(a));for(var a=a.split(/\&(amp\;)?/),b={},c=0,d=a.length;c<d;++c){var e=a[c]||null;if(e!==null){e=e.split("=");if(e!==null){var f=e[0]||null;if(f!==null&&typeof e[1]!=="undefined"){e=e[1];f=decodeURIComponent(f);e=decodeURIComponent(e);try{e=eval(e)}catch(g){}var j=
f.split(".");if(j.length===1)b[f]=e;else{var i="",h="";$.each(j,function(a,c){i=i+('["'+c.replace(/"/g,'\\"')+'"]');jsonCLOSUREGLOBAL=b;h="if ( typeof jsonCLOSUREGLOBAL"+i+' === "undefined" ) jsonCLOSUREGLOBAL'+i+" = {}";eval(h);b=jsonCLOSUREGLOBAL;delete jsonCLOSUREGLOBAL});jsonCLOSUREGLOBAL=b;valueCLOSUREGLOBAL=e;h="jsonCLOSUREGLOBAL"+i+" = valueCLOSUREGLOBAL";eval(h);b=jsonCLOSUREGLOBAL;delete jsonCLOSUREGLOBAL;delete valueCLOSUREGLOBAL}}}}}return b};
(function(a){a.appendStylesheet=a.appendStylesheet||function(b,c){if(!document.body){setTimeout(function(){a.appendStylesheet.apply(a,[b,c])},500);return a}var d="stylesheet-"+b.replace(/[^a-zA-Z0-9]/g,""),e=a("#"+d);typeof c==="undefined"&&(c=false);if(e.length===1)if(c)e.remove();else return a;var e=document.getElementsByTagName(a.browser.safari?"head":"body")[0],f=document.createElement("link");f.type="text/css";f.rel="stylesheet";f.media="screen";f.href=b;f.id=d;e.appendChild(f);return a};a.appendScript=
a.appendScript||function(b,c){if(!document.body){setTimeout(function(){a.appendScript.apply(a,[b,c])},500);return a}var d="script-"+b.replace(/[^a-zA-Z0-9]/g,""),e=a("#"+d);typeof c==="undefined"&&(c=false);if(e.length===1)if(c)e.remove();else return a;var e=document.getElementsByTagName(a.browser.safari?"head":"body")[0],f=document.createElement("script");f.type="text/javascript";f.src=b;f.id=d;e.appendChild(f);return a}})(jQuery);
(function(a){a.fn.opacityFix=a.fn.opacityFix||function(){var b=a(this),c=b.css("background-color");if(c&&c!=="rgba(0, 0, 0, 0)")return this;for(var d=b;d.inDOM();){d=d.parent();if((c=d.css("background-color"))&&c!=="rgba(0, 0, 0, 0)"){b.css("background-color",c);break}}return this};a.fn.parentsAndSelf=a.fn.parentsAndSelf||function(b){return a(this).parents(b).andSelf().filter(b)};a.fn.findAndSelf=a.fn.findAndSelf||function(b){return a(this).find(b).andSelf().filter(b)};a.fn.firstInput=a.fn.firstInput||
function(){return a(this).findAndSelf(":input").filter(":first")};a.fn.choose=a.fn.choose||function(b){var c=a(this);if(typeof b==="undefined")b=c.val();else if(c.val()!==b)return this;switch(true){case this.is("option"):c.parents("select:first").choose(b);break;case c.is(":checkbox"):c.attr("checked",true);break;case c.is(":radio"):c.attr("checked",true);break;case c.is("select"):c.val(b)}return this};a.fn.unchoose=a.fn.unchoose||function(){var b=a(this);switch(true){case b.is("option"):b.parents(":select:first").unchoose();
break;case b.is(":checkbox"):b.attr("checked",false);break;case b.is(":radio"):b.attr("checked",false);break;case b.is("select"):b.val(b.find("option:first").val())}return this};a.fn.wouldSubmit=a.fn.wouldSubmit||function(){var b=a(this).findAndSelf(":input"),c=true;if(!b.length||!b.attr("name")||b.is(":radio,:checkbox")&&!b.is(":selected,:checked"))c=false;return c};a.fn.values=a.fn.values||function(){var b={};a(this).findAndSelf(":input").each(function(){var c=a(this),d=c.attr("name")||null,e=c.val();
if(!c.wouldSubmit())return true;if(d.indexOf("[]")!==-1){typeof b[d]==="undefined"&&(b[d]=[]);b[d].push(e)}else b[d]=e});return b};a.fn.submitForm=a.fn.submitForm||function(){var b=a(this);b.parentsAndSelf("form:first").trigger("submit");return b};a.fn.inDOM=a.fn.inDOM||function(){var b=a(this).parent().parent();return b.size()&&(b.height()||b.width())};a.fn.valWrap=a.fn.valWrap||function(b,c){var d=a(this);return d.val(d.val().wrap(b,c))};a.fn.valWrapSelection=a.fn.valWrapSelection||function(b,c,
d,e){var f=a(this),g=f.get(0),b=b||"",c=c||"";if(d||e)f.val(f.val().wrapSelection(b,c,d,e));else{d=g.selectionStart;e=g.selectionEnd;if(document.selection){g.focus();d=document.selection.createRange();d.text=b+d.text+c}else{var j=g.scrollTop;f.val(f.val().wrapSelection(b,c,d,e));g.focus();g.selectionStart=d+b.length;g.selectionEnd=e+b.length;g.scrollTop=j}}return f};a.fn.giveFocus=a.fn.giveFocus||function(){a(this).findAndSelf(":input:visible:first").focus();return this};a.fn.giveTarget=a.fn.giveTarget||
function(){var b=a(this);a(".target").removeClass("target");b.addClass("target");return this};a.fn.highlight=a.fn.highlight||function(b){return a(this).effect("highlight",{},b||3E3)};a.fn.htmlAndSelf=a.fn.htmlAndSelf||function(){return a(this).attr("outerHTML")};a.fn.preventDefaultOnClick=a.fn.preventDefaultOnClick||function(){return a(this).click(function(a){a.preventDefault();return false})};a.fn.attemptTypeChangeTo=a.fn.attemptTypeChangeTo||function(b){var c=a(this),d=false,e=c.get(0),f=e.type;
if(b===f)d=true;else if(c.is("input")&&!a.browser.msie){e.type=b;e.type!==f&&(d=true)}return d}})(jQuery);
(function(a){a.fn.binder=a.fn.binder||function(b,c,d){var e=a(this);d?e.bind(b,c,d):e.bind(b,c);return e};a.fn.once=a.fn.once||function(b,c,d){var e=a(this);if(d){e.unbind(b,d);e.bind(b,c,d)}else{d=c;e.unbind(b,d);e.bind(b,d)}return e};a.fn.enter=a.fn.enter||function(b,c){return a(this).binder("enter",b,c)};a.event.special.enter=a.event.special.enter||{setup:function(){a(this).bind("keypress",a.event.special.enter.handler)},teardown:function(){a(this).unbind("keypress",a.event.special.enter.handler)},
handler:function(b){a(this);if(b.keyCode===13){b.type="enter";a.event.handle.apply(this,[b]);return true}}};a.fn.cancel=a.fn.cancel||function(b,c){return a(this).binder("cancel",b,c)};a.event.special.cancel=a.event.special.cancel||{setup:function(){a(this).bind("keyup",a.event.special.cancel.handler)},teardown:function(){a(this).unbind("keyup",a.event.special.cancel.handler)},handler:function(b){a(this);var c=b.keyCode===27;if((typeof b.DOM_VK_ESCAPE==="undefined"?0:b.DOM_VK_ESCAPE)||c){b.type="cancel";
a.event.handle.apply(this,[b]);return true}}};a.fn.lastclick=a.fn.lastclick||function(b,c){return a(this).binder("lastclick",b,c)};a.event.special.lastclick=a.event.special.lastclick||{setup:function(){a(this).bind("click",a.event.special.lastclick.handler)},teardown:function(){a(this).unbind("click",a.event.special.lastclick.handler)},handler:function(b){var c=function(){var b=a(this),c=b.data("lastclick-timeout")||false;c&&clearTimeout(c);b.data("lastclick-timeout",false)};(function(b){var e=this;
c.call(e);var f=a(e);f.data("lastclick-clicks",(f.data("lastclick-clicks")||0)+1);var g=setTimeout(function(){var g=f.data("lastclick-clicks");c.apply(e,[b]);f.data("lastclick-clicks",0);b.type="lastclick";a.event.handle.apply(e,[b,g])},500);f.data("lastclick-timeout",g)}).apply(this,[b])}};a.fn.firstclick=a.fn.firstclick||function(b,c){return a(this).binder("firstclick",b,c)};a.event.special.firstclick=a.event.special.firstclick||{setup:function(){a(this).bind("click",a.event.special.firstclick.handler)},
teardown:function(){a(this).unbind("click",a.event.special.firstclick.handler)},handler:function(b){var c=function(){var b=a(this),c=b.data("firstclick-timeout")||false;c&&clearTimeout(c);b.data("firstclick-timeout",false)};(function(b){var e=this;c.call(e);var f=a(e);f.data("firstclick-clicks",(f.data("firstclick-clicks")||0)+1);if(f.data("firstclick-clicks")===1){b.type="firstclick";a.event.handle.apply(e,[b])}var g=setTimeout(function(){c.apply(e,[b]);f.data("firstclick-clicks",0)},500);f.data("firstclick-timeout",
g)}).apply(this,[b])}};a.fn.singleclick=a.fn.singleclick||function(b,c){return a(this).binder("singleclick",b,c)};a.event.special.singleclick=a.event.special.singleclick||{setup:function(){a(this).bind("click",a.event.special.singleclick.handler)},teardown:function(){a(this).unbind("click",a.event.special.singleclick.handler)},handler:function(b){var c=function(){var b=a(this),c=b.data("singleclick-timeout")||false;c&&clearTimeout(c);b.data("singleclick-timeout",false)};(function(b){var e=this;c.call(e);
var f=a(e);f.data("singleclick-clicks",(f.data("singleclick-clicks")||0)+1);var g=setTimeout(function(){var g=f.data("singleclick-clicks");c.apply(e,[b]);f.data("singleclick-clicks",0);if(g===1){b.type="singleclick";a.event.handle.apply(e,[b])}},500);f.data("singleclick-timeout",g)}).apply(this,[b])}}})(jQuery);
(function(a){a.prepareObject=a.prepareObject||function(b,c){var d={};a.extend(d,b||{});a.intercept(true,d,c);var e=arguments;e[0]=e[1]="$.prepareObject.skipValue";a.each(e,function(b,c){if(c==="$.prepareObject.skipValue")return true;a.intercept(true,d,c)});return d};a.intercept=a.intercept||function(){var b=arguments,c,d=false,e=false;if(typeof b[0]==="boolean"){d=b[0];b[0]="$.intercept.skipValue";if(typeof b[1]==="boolean"){e=b[1];b[1]="$.intercept.skipValue";if(e)c={};else{c=b[2];b[2]="$.intercept.skipValue"}}else{c=
b[1];b[1]="$.intercept.skipValue"}}else{c=b[0];b[0]="$.intercept.skipValue"}var f={};a.each(c,function(a){f[a]=true});d?a.each(b,function(b,d){if(d==="$.intercept.skipValue")return true;a.each(d,function(b,d){if(typeof f[b]==="undefined")return true;typeof d==="object"&&!d.test?a.extend(c[b],d||{}):c[b]=d})}):a.each(b,function(b,d){a.each(d,function(b,d){if(typeof f[b]==="undefined")return true;typeof d==="object"&&!d.test?a.intercept(true,c[b],d):c[b]=d})});return c};a.promise=a.promise||function(b){var c=
b.object||this;typeof c[b.handlers]==="undefined"&&(c[b.handlers]=[]);typeof c[b.flag]==="undefined"&&(c[b.flag]=false);var d=c[b.handlers],e=c[b.flag],f=b.arguments[0];switch(typeof f){case "boolean":e=c[b.flag]=f;case "undefined":if(e&&d.length){a.each(d,function(a,b){b.call(c)});c[b.handlers]=[]}break;case "function":e?f.call(c):c[b.handlers].push(f);break;default:window.console.error("Unknown arguments for $.promise",[this,arguments])}return e}})(jQuery);
(function(a){String.prototype.passwordstrength=String.prototype.passwordstrength||function(a,c){var d=this.toString(),e=0,a=a||"",c=c||"";if(d.length<4)return"short";if(c.length&&d.toLowerCase()==c.toLowerCase())return"username";if(a.length&&d!=a)return"mismatch";d.match(/[0-9]/)&&(e=e+10);d.match(/[a-z]/)&&(e=e+26);d.match(/[A-Z]/)&&(e=e+26);d.match(/[^a-zA-Z0-9]/)&&(e=e+31);d=Math.log(Math.pow(e,d.length))/Math.LN2;return d<40?"low":d<56?"medium":"high"};a.fn.passwordstrength?window.console.warn("$.fn.passwordstrength has already been defined..."):
a.fn.passwordstrength=function(b){var c=a.fn.passwordstrength;c.config=c.config||{content:'<div class="sparkle-passwordstrength-result"></div><div class="sparkle-passwordstrength-description"></div>',contentSelectors:{result:".sparkle-passwordstrength-result",description:".sparkle-passwordstrength-description"},strengthCss:{"short":"invalid",mismatch:"invalid",username:"invalid",low:"low",medium:"medium",high:"high",empty:""},il8n:{description:'Hint: The password should be have a strength of at least medium. To make it stronger, use upper and lower case letters, numbers and symbols like ! " ? $ % ^ &amp; ).',
empty:"Strength indicator",username:"Password should not match username",mismatch:"Confirm password does not match","short":"Password is too short",low:"Weak",medium:"Medium",high:"Strongest"}};var d=a.extend({},c.config);a.extend(true,d,b);var b=a(this),e=b.html(d.content).hide(),f=e.find(d.contentSelectors.result),c=e.find(d.contentSelectors.description).html(d.il8n.description);d.il8n.description||c.remove();var g=[d.strengthCss["short"],d.strengthCss.mismatch,d.strengthCss.username,d.strengthCss.low,
d.strengthCss.medium,d.strengthCss.high,d.strengthCss.empty].join(" "),j=a(d.password),i=a(d.confirm||null),h=a(d.username||null),c=function(){var a=j.val(),b=i.val(),c=h.val(),b=a?a.passwordstrength(b,c):"empty",a=d.strengthCss[b],b=d.il8n[b];f.removeClass(g).addClass(a).html(b)};j.keyup(function(){var b=a(this);i.val("");b.val()!==""&&!e.data("shown")&&e.animate({height:"show",opacity:"show"},"slow").data("shown",true)});j.add(i).add(h).keyup(c);c();return b}})(jQuery);
(function(a){if(a.BalClass)window.console.warn("$.BalClass has already been defined...");else{a.BalClass=function(a){this.construct(a)};a.extend(a.BalClass.prototype,{config:{},construct:function(b,c){var d={};if(typeof b==="object"&&typeof c==="object"){d=c;d.config=b||{}}else if(typeof b==="object"){d=b;d.config=d.config||{}}else typeof b==="undefined"?d=false:window.console.error("BalClass.construct: Invalid Input");if(d!==false){this.configure(d.config);delete d.config;a.extend(this,d)}return typeof this.built===
"function"?this.built():true},configure:function(b){this.config=this.config||{};this.config=a.extend({},this.config,b||{});return this},clone:function(b){var c=function(a){this.construct(a)};a.extend(c.prototype,this.prototype,b||{});c.clone=c.prototype.clone;c.create=c.prototype.create;return c},create:function(a){return new this(a)},addConfig:function(b,c){var d=this;if(typeof c==="undefined"){typeof b==="object"&&a.each(b,function(a,b){d.applyConfig(a,b)});return false}typeof c==="object"&&d.applyConfig(b,
c);return d},applyConfig:function(b,c){this.config[b]=this.config[b]||{};a.extend(true,this.config[b],c||{});return this},setConfig:function(a,c){this.config[a]=c||{};return this},hasConfig:function(a){return typeof this.config[a]!=="undefined"},getConfig:function(a){return typeof a!=="string"?this.config:this.getConfigWith(a)},getConfigWith:function(b,c){if(typeof b!=="string"){typeof c==="undefined"&&(c=b);b="default"}typeof c!=="object"&&(c={});var d={};a.extend(true,d,this.config[b]||{},c||{});
return d},getConfigWithDefault:function(a,c){return this.getConfigWith("default",this.getConfigWith(a,c))},setDefaults:function(a){return this.applyConfig("default",a)}});a.BalClass.clone=a.BalClass.prototype.clone;a.BalClass.create=a.BalClass.prototype.create}})(jQuery);
(function(a){a.Bespin?window.console.warn("$.Bespin has already been defined..."):a.Bespin=a.BalClass.create({config:{"default":{content:null,bespin:{settings:{tabstop:4}},toolbar:{fullscreen:true}},rich:{bespin:{syntax:"html"}},html:{bespin:{syntax:"html"}},plain:{toolbar:false}},fn:function(b,c){var d=a.Bespin,e=d.getConfigWithDefault(b,c),f=this;a(window).bind("onBespinLoad",function(){d.useBespin(f,e)});var g={onBespinLoad:function(){a(window).trigger("onBespinLoad")}};bespin.bootLoaded?setTimeout(function(){g.onBespinLoad()},
500):window.onBespinLoad=g.onBespinLoad;return this},useBespin:function(b,c){var d=a.Bespin,e=a(b),f,g;if(e.is("textarea")){g=e.attr("id")+"-bespin";f=a('<div id="'+g+'"/>').html(e.val()).css({height:e.css("height"),width:e.css("width")});f.insertAfter(e);e.hide()}else g=e.attr("id");bespin.useBespin(g,c.bespin).then(function(a){d.postBespin(g,a,c)},function(a){window.console.error("Bespin Launch Failed: "+a)});return this},postBespin:function(b,c,d){var e=a("#"+b),f=e.siblings("textarea"),g=c.editor;
e.css("overflow","hidden");e.wrap('<div class="bespin-wrap" />');var j=e.parent();f.length&&f.parents("form:first").submit(function(){f.val(g.value)});if(d.content||d.content==="")g.value=d.content;if(d.toolbar){b=a('<div class="bespin-toolbar" />');b.insertBefore(e);if(d.toolbar.fullscreen){d=a('<span class="bespin-toolbar-fullscreen" title="Toggle Fullscreen"></span>');d.appendTo(b);d.click(function(){j.hasClass("bespin-fullscreen")?a("body").add(j).removeClass("bespin-fullscreen"):a("body").add(j).addClass("bespin-fullscreen");
c.dimensionsChanged()})}}return this},built:function(){var b=this;a.fn.Bespin=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.Datepicker?window.console.warn("$.Datepicker has already been defined..."):a.Datepicker=a.BalClass.create({config:{"default":{useHtml5:false}},fn:function(b,c){var d=a.Datepicker.getConfigWithDefault(b,c);return a(this).each(function(){var b=a(this);if(b.hasClass("sparkle-date-has"))return this;b.addClass("sparkle-date").addClass("sparkle-date-has");if(d.useHtml5&&Modernizr&&Modernizr.inputtypes.date&&b.attemptTypeChangeTo("date"))return this;b.datepicker(d);return this})},built:function(){var b=
this;a.fn.Datepicker=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.Datetimepicker?window.console.warn("$.Datetimepicker has already been defined..."):a.Datetimepicker=a.BalClass.create({config:{"default":{useHtml5:false,datepickerOptions:{},timepickerOptions:{}},"12hr":{timepickerOptions:{timeConvention:12}},"24hr":{timepickerOptions:{timeConvention:24}}},fn:function(b,c){var d=a.Datetimepicker.getConfigWithDefault(b,c);return a(this).each(function(){var b=a(this);if(b.hasClass("sparkle-datetime-has"))return this;b.addClass("sparkle-datetime").addClass("sparkle-datetime-has");
if(d.useHtml5&&Modernizr&&Modernizr.inputtypes.datetime&&b.attemptTypeChangeTo("datetime"))return this;var c=b.val(),g=new Date,j="",i="";if(c){g.setDatetimestr(c);j=g.getDatestr();i=g.getTimestr()}b.hide();var h=a('<input type="text" class="sparkle-date"/>'),c=a('<span class="sparkle-datetime-sep"> @ </span>'),k=a('<input type="text" class="sparkle-time"/>');k.insertAfter(b);c.insertAfter(b);h.insertAfter(b);h.val(j);k.val(i);h.add(k).change(function(){var a=h.val()+" "+k.val();b.val(a).trigger("change")});
h.Datepicker(d.datepickerOptions);k.Timepicker(d.timepickerOptions);return b})},built:function(){var b=this;a.fn.datetimepicker=a.fn.Datetimepicker=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.EventCalendar?window.console.warn("$.EventCalendar has already been defined..."):a.EventCalendar=a.BalClass.create({config:{"default":{ajaxEntriesVariable:"entries",ajaxEntriesUrl:"",ajaxPostData:{},ajaxCache:true,calendarEntries:[],calendarClass:"hasEventCalendar",dayEventClass:"ui-state-active hasEvent",datepickerOptions:{},disableClick:true,domEvents:{}}},fn:function(b,c){var d=a(this);if(d.length>1){d.each(function(){a(this).EventCalendar(b,c)});return this}var e=a.EventCalendar.getConfigWithDefault(b,
c),f={entriesById:{},entriesByYearMonth:{},cacheableByYearMonth:{},isCacheable:function(a,b){return this.cacheableByYearMonth[a+"-"+b]?true:false},setCacheable:function(a,b,c){typeof c==="undefined"&&(this.cacheableByYearMonth[a+"-"+b]=c);return this},isYearMonthSet:function(a,b){return typeof this.entriesByYearMonth[a+"-"+b]!=="undefined"},isYearMonthEmpty:function(b,c){return!(typeof this.entriesByYearMonth[b+"-"+c]==="array"&&this.entriesByYearMonth[b+"-"+c].length!==0||typeof this.entriesByYearMonth[b+
"-"+c]==="object"&&!a.isEmptyObject(this.entriesByYearMonth[b+"-"+c]))},getEntriesByYearMonth:function(a,b){return this.entriesByYearMonth[a+"-"+b]||[]},getEntryById:function(a){return this.entriesById[a]||void 0},getDaysInMonth:function(a){return 32-(new Date(a.getFullYear(),a.getMonth(),32)).getDate()},getDate:function(a){var b;if(typeof a==="string")b=new Date(a);else if(typeof a==="number"){b=new Date;b.setTime(a)}else if(typeof a==="object"){b=new Date;b.setTime(a.getTime())}else throw Error("Unknown date format.");
if(isNaN(b)||b.toString()==="Invalid Date"){b=new Date;b.setDatetimestr(a)}return b},addEntries:function(b){var c=this;a.each(b,function(a,b){b.id=b.id||a;c.addEntry(b)});return true},addEntry:function(a){a.start=this.getDate(a.start);a.finish=this.getDate(a.finish);var b=this.getDate(a.start);b.setDate(1);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);var c=this.getDate(a.finish);c.setDate(2);c.setHours(0);c.setMinutes(0);c.setSeconds(0);for(c.setMilliseconds(0);b<c;){var d=b.getFullYear(),
e=b.getMonth()+1;typeof this.entriesByYearMonth[d+"-"+e]==="undefined"&&(this.entriesByYearMonth[d+"-"+e]={});this.entriesByYearMonth[d+"-"+e][a.id]=a;if(e===11){b.setMonth(0);b.setYear(d+1)}else b.setMonth(e+1)}return this.entriesById[a.id]=a}};f.addEntries(e.calendarEntries);var g=function(b,c,d){var i=f.getEntriesByYearMonth(c,d),g=a(b).find("tbody td"),h=g.find("a");if(e.disableClick){g.unbind("click").removeAttr("onclick");h.removeAttr("href").css("cursor","default")}a.each(i,function(g,j){var k=
j.start.getMonth()+1,l=j.finish.getMonth()+1,n=j.start.getDate(),p=j.finish.getDate(),n=k==d?h.filter(":contains("+n+"):first"):h.filter(":first"),p=l==d?h.filter(":contains("+p+"):first"):h.filter(":last"),k=k==d?h.index(n):0,l=l==d?h.index(p):h.length-1,r=[],r=k==l?n:k==l-1?n.add(p):n.add(h.filter(":lt("+l+")").filter(":gt("+k+")")).add(p);r.addClass(e.dayEventClass).each(function(g,h){var k=a(h);k.text().trim();var l=k.data("dayEntriesIds");if(typeof l==="undefined")l=j.id;else{l=(""+l).split(/,/g);
l.push(j.id);l=l.join(",")}k.data("dayEntriesIds",l);a.each(e.domEvents,function(e,g){k.unbind(e).bind(e,function(e){var h=a(this),j=h.text().trim(),h=(""+h.data("dayEntriesIds")).split(/,/g),k=new Date;k.setDatestr(c+"-"+d+"-"+j);var l=[];a.each(h,function(a,b){var c=f.getEntryById(b);l.push(c)});g.apply(this,[e,{year:c,month:d,day:j,date:k,dayEntries:l,monthEntries:i,datepicker:b}]);return true})})})});return true},j=function(b,c,d){var i=d.dpDiv||d;if(typeof e.ajaxEntriesUrl==="string"&&e.ajaxEntriesUrl.length)if(e.ajaxCache&&
f.isCacheable(b,c)&&!f.isYearMonthEmpty(b,c))setTimeout(function(){g(i,b,c)},50);else{d=a.extend({},{year:b,month:c},e.ajaxPostData);a.ajax({url:e.ajaxEntriesUrl,method:"post",dataType:"json",data:d,success:function(a){a=a[e.ajaxEntriesVariable]||[];f.setCacheable(b,c,true);if(a.length===0)return true;f.addEntries(a);setTimeout(function(){g(i,b,c)},50);return true},error:function(a,b,c,d){window.console.warn("$.EventCalendar.calendarChangeMonthYear.ajax.error:",[this,arguments])}})}else f.isYearMonthEmpty(b,
c)||setTimeout(function(){g(i,b,c)},50);return true},i=false,h=function(b,c,d){if(!i){i=true;a(d).addClass(e.calendarClass);j(b,c,d)}},k=a.extend({},e.datepickerOptions,{onChangeMonthYear:function(a,b,c){j(a,b,c);typeof e.datepickerOptions.onChangeMonthYear==="function"&&h(a,b,c)},beforeShow:function(a,b){datepickerShowed=true;typeof e.datepickerOptions.beforeShow==="function"&&e.datepickerOptions.beforeShow.apply(this,[a,b]);setTimeout(function(){h(b.drawYear,b.drawMonth+1,b)},1E3)}});d.datepicker(k);
setTimeout(function(){var a=d.datepicker("getDate");h(a.getFullYear(),a.getMonth()+1,d)},2E3);return d},built:function(){var b=this;a.fn.EventCalendar=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.Help?window.console.warn("$.Help has already been defined..."):a.Help=a.BalClass.create({config:{"default":{wrap:'<span class="sparkle-help-wrap"/>',icon:'<span class="sparkle-help-icon"/>',text:'<span class="sparkle-help-text"/>',parentClass:"",title:""}},fn:function(b){var c=a.Help;typeof b==="string"&&(b={title:b});var b=c.getConfigWithDefault("default",b),c=a(this),d=a(b.wrap),e=a(b.icon),f=a(b.text);c.parent().addClass(b.parentClass);var g=c.contents();c.append(d.append(f).append(e));
g.appendTo(f);c.attr("title",b.title);return c},built:function(){var b=this;a.fn.help=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.Timepicker?window.console.warn("$.Timepicker has already been defined..."):a.Timepicker=a.BalClass.create({config:{"default":{useHtml5:false,timeConvention:12},"12hr":{timeConvention:12},"24hr":{timeConvention:24}},fn:function(b,c){var d=a.Timepicker.getConfigWithDefault(b,c);return a(this).each(function(){var b=a(this);if(b.hasClass("sparkle-time-has"))return this;b.addClass("sparkle-time").addClass("sparkle-time-has");if(d.useHtml5&&Modernizr&&Modernizr.inputtypes.date&&b.attemptTypeChangeTo("time"))return this;
var c=b.val(),g=new Date,j=d.timeConvention,i=12,h=0,k="am";if(c){g.setTimestr(c);i=g.getUTCHours();h=g.getUTCMinutes()}if(j===12&&i>12){k="pm";i=i-12}h=h.roundTo(5);if(j===12){if(i>12||i<1){i=1;window.console.warn("timepicker.fn: Invalid Hours.",[this,arguments])}}else if(i>23||i<0){i=1;window.console.warn("timepicker.fn: Invalid Hours.",[this,arguments])}if(h>60||h<0){h=0;window.console.warn("timepicker.fn: Invalid Minutes.",[this,arguments])}b.hide();if(j===12){var o=a('<select class="sparkle-time-meridian" />');
o.append("<option>am</option>");o.append("<option>pm</option>");o.val(k).insertAfter(b)}for(var q=a('<select class="sparkle-time-minutes" />'),i=0;i<=55;i=i+5)q.append('<option value="'+i+'">'+i.padLeft("0",2)+"</option>");q.val(h).insertAfter(b);var m=a('<select class="sparkle-time-hours" />');if(j===12){i=j;for(h=1;h<=i;++h)m.append('<option value="'+h+'">'+h.padLeft("0",2)+"</option>");m.val(i-1).insertAfter(b)}else{i=j;for(h=0;h<i;++h)m.append('<option value="'+h+'">'+h.padLeft("0",2)+"</option>");
m.val(i).insertAfter(b)}i=function(){var a=parseInt(m.val(),10),c=q.val();if(j===12){var d=o.val();a!==12&&d==="pm"&&(a=a+12);a===12&&d==="am"&&(a=0)}a=a.padLeft(0,2)+":"+c.padLeft(0,2)+":00";b.val(a).trigger("change")};m.add(q).add(o).change(i);b.parent("form:first").submit(i);return b})},built:function(){var b=this;a.fn.timepicker=a.fn.Timepicker=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a.Tinymce?window.console.warn("$.Tinymce has already been defined..."):a.Tinymce=a.BalClass.create({config:{"default":{script_url:"/scripts/tiny_mce/tiny_mce.js",theme:"advanced",plugins:"autoresize,safari,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,styleselect,formatselect,fontselect,fontsizeselect,|,code,",
theme_advanced_buttons2:"cut,copy,paste,pastetext,pasteword,|,undo,redo,|,link,unlink,image,|,preview,|,forecolor,backcolor,|,bullist,numlist,|,outdent,indent,blockquote,|,fullscreen",theme_advanced_buttons3:"tablecontrols,|,hr,removeformat,visualaid,|,sub,sup",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_path:false,theme_advanced_resizing:false,width:"100%",template_replace_values:{}},rich:{},simple:{theme_advanced_buttons2:"",
theme_advanced_buttons3:""}},fn:function(b,c){var d=a.Tinymce.getConfigWithDefault(b,c);return a(this).tinymce(d)},built:function(){var b=this;a.fn.Tinymce=function(a,d){return b.fn.apply(this,[a,d])};return true}})})(jQuery);
(function(a){a(document.body).addClass("js");if(a.Sparkle)window.console.warn("$.Sparkle has already been defined...");else{a.SparkleClass=a.BalClass.clone({addExtensions:function(){var a=this.addExtension.apply(this,arguments);this.onConfigured(true);return a},addExtension:function(b,c,d){var e=this,f={};switch(true){case Boolean(d||false):if(typeof b==="string"&&typeof d==="function"&&typeof c==="object"){f.extension=d;f.config=c;f.name=b}if(typeof b==="string"&&typeof c==="function"&&typeof d===
"object"){f.extension=c;f.config=d;f.name=b}else window.console.error("Sparkle.addExtension: Invalid Input");break;case Boolean(c||false):if(typeof b==="string"&&typeof c==="function"){f.extension=c;f.name=b}else if(typeof b==="string"&&e.isExtension(c)){f=c;f.name=b}else window.console.error("Sparkle.addExtension: Invalid Input");break;case Boolean(b||false):if(e.isExtension(b))f=b;else{if(typeof b==="object"||typeof b==="array"){a.each(b,function(a,b){e.addExtension(a,b)});return this}window.console.error("Sparkle.addExtension: Invalid Input")}}f.config=
f.config||{};f.extension=f.extension||{};e.addConfig(f.name,f);e.onReady(function(){e.triggerExtension(a("body"),f)});return this},hasExtension:function(a){return this.getExtension(a)!=="undefined"},isExtension:function(a){return Boolean(a&&(a.extension||false))},getExtensions:function(){var b=this,c=b.getConfig(),d={};a.each(c,function(a,c){b.isExtension(c)&&(d[a]=c)});return d},getExtension:function(a){var c=void 0;if(this.isExtension(a))c=a;else{a=this.getConfigWithDefault(a);this.isExtension(a)&&
(c=a)}return c},getExtensionConfig:function(a){Extension=this.getExtension(a);return Extension.config||{}},applyExtensionConfig:function(a,c){this.applyConfig(a,{config:c});return this},triggerExtensions:function(b){var c=this,d=c.getExtensions();a.each(d,function(a,d){c.triggerExtension(b,d)});return this},triggerExtension:function(b,c){var d=this.getExtension(c),b=b instanceof jQuery?b:a("body");if(d)return d.extension.apply(b,[this,d.config,d]);window.console.error("Sparkle.triggerExtension: Could not find the extension.",
[this,arguments],[c,d]);return this},fn:function(b,c){var d=a(this);c?b.triggerExtension.apply(b,[d,c]):b.triggerExtensions.apply(b,[d]);return this},built:function(){var b=this;a.fn.sparkle=function(a){return b.fn.apply(this,[b,a])};a(function(){b.onDocumentReady(true)});b.onConfigured(function(){b.onDocumentReady(function(){b.onReady(true)})});return true},onConfigured:function(){return a.promise({object:this,handlers:"onConfiguredHandlers",flag:"isConfigured",arguments:arguments})},onDocumentReady:function(b){return a.promise({object:this,
handlers:"onDocumentReadyHandlers",flag:"isDocumentReady",arguments:arguments})},onReady:function(b){return a.promise({object:this,handlers:"onReadyHandlers",flag:"isReady",arguments:arguments})}});a.Sparkle=a.SparkleClass.create().addExtensions({date:{config:{selector:".sparkle-date",datepickerOptions:{},demoText:"Date format must use the international standard: [year-month-day]. This due to other formats being ambigious eg. day/month/year or month/day/year.",demo:'<input type="text" class="sparkle-date" value="2010-08-05" />'},
extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;if(typeof d.Datepicker==="undefined"){window.console.warn("Datepicker not loaded. Did you forget to include it?");return false}d.Datepicker(c.datepickerOptions);return true}},time:{config:{selector:".sparkle-time",timepickerOptions:{},demoText:"Time format must be either [hour:minute:second] or [hour:minute], with hours being between 0-23.",demo:'<input type="text" class="sparkle-time" value="23:11" />'},extension:function(b,
c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;if(typeof d.Timepicker==="undefined"){window.console.warn("Timepicker not loaded. Did you forget to include it?");return false}d.Timepicker(c.timepickerOptions);return true}},datetime:{config:{selector:".sparkle-datetime",datepickerOptions:{},timepickerOptions:{},demoText:"Date format must use the international standard: [year-month-day]. This due to other formats being ambigious eg. day/month/year or month/day/year.<br/>\t\t\t\t\t\tTime format must be either [hour:minute:second] or [hour:minute], with hours being between 0-23.",
demo:'<input type="text" class="sparkle-datetime" value="2010-08-05 23:10:09" />'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;if(typeof d.Datetimepicker==="undefined"){window.console.warn("Datetimepicker not loaded. Did you forget to include it?");return false}d.Datetimepicker({datepickerOptions:b.getExtensionConfig("date").datepickerOptions,timepickerOptions:b.getExtensionConfig("time").timepickerOptions});return true}},"hide-if-empty":{config:{selector:".sparkle-hide-if-empty:empty",
demo:'<div class="sparkle-hide-if-empty" style="border:1px solid black"></div>\n<div class="sparkle-hide-if-empty" style="border:1px solid black">Hello World</div>'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;d.hide();return true}},hide:{config:{selector:".sparkle-hide",demo:'<div class="sparkle-hide">Something to Hide when Sparkle has Loaded</div>'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;d.removeClass(c.selector.replace(".",
"")).hide();return true}},show:{config:{selector:".sparkle-show",demo:'<div class="sparkle-show" style="display:none;">Something to Show when Sparkle has Loaded</div>'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;d.removeClass(c.selector.replace(".","")).show();return true}},subtle:{config:{selector:".sparkle-subtle",css:{},inSpeed:200,inCss:{opacity:1},outSpeed:400,outCss:{opacity:0.5},demo:'<div class="sparkle-subtle">This is some subtle text. (mouseover)</div>'},
extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;var e={};a.extend(e,c.outCss,c.css);d.css(e).opacityFix().hover(function(){a(this).stop(true,false).animate(c.inCss,c.inSpeed)},function(){a(this).stop(true,false).animate(c.outCss,c.outSpeed)});return true}},panelshower:{config:{selectorSwitch:".sparkle-panelshower-switch",selectorPanel:".sparkle-panelshower-panel",inSpeed:200,outSpeed:200,demo:""},extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selectorSwitch),
d=d.findAndSelf(c.selectorPanel);if(!e.length&&!d.length)return true;e.once("click",function(){var b=a(this),d=b.siblings(c.selectorPanel).filter(":first"),e=b.val();b.is(":checked,:selected")&&e&&!(e===0||e==="0"||e==="false"||e===false||e==="no"||e==="off")?d.fadeIn(c.inSpeed):d.fadeOut(c.outSpeed)});d.hide();return true}},autogrow:{config:{selector:"textarea.autogrow,textarea.autosize",demo:'<textarea class="autogrow">This textarea will autogrow with your input. - Only if jQuery Autogrow has been loaded.</textarea>'},
extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;if(typeof a.fn.autogrow==="undefined"){window.console.warn("autogrow not loaded. Did you forget to include it?");return false}d.autogrow();return true}},gsfnwidget:{config:{selector:".gsfnwidget",demo:'<a class="gsfnwidget" href="#">This link will show a GetSatisfaction Widget onclick. - Only if GetSatisfaction has been loaded.</a>'},extension:function(b,c){var d=a(this).findAndSelf(c.selector);if(!d.length)return true;
d.once("click",function(a){if(typeof GSFN_feedback_widget==="undefined"){window.console.warn("GSFN not loaded. Did you forget to include it?");return true}GSFN_feedback_widget.show();a.preventDefault();return false});return true}},hint:{config:{selector:".form-input-tip,.sparkle-hint,.sparkle-hint-has,:text[placeholder]",hasClass:"sparkle-hint-has",hintedClass:"sparkle-hint-hinted",demoText:"Simulates HTML5's <code>placeholder</code> attribute for non HTML5 browsers. Placeholder can be the <code>title</code> or <code>placeholder</code> attribute. Placeholder will not be sent with the form (unlike most other solutions). The <code>sparkle-hint</code> class is optional if you are using the <code>placeholder</code> attribute.",
demo:'<input type="text" class="sparkle-hint" placeholder="This is some hint text." title="This is a title." /><br/>\n<input type="text" class="sparkle-hint" title="This is some hint text." />'},extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selector).addClass(c.hasClass);if(!e.length)return true;var f=function(){var b=a(this),d=b.attr("placeholder")||b.attr("title"),e=b.val();d===e&&b.val("").removeClass(c.hintedClass);return true},g=function(){var b=a(this),d=b.attr("placeholder")||b.attr("title"),
e=b.val();(d===e||!e)&&b.val("").addClass(c.hintedClass).val(d);return true},j=function(){e.trigger("focus")};if(typeof Modernizr!=="undefined"&&Modernizr.input.placeholder)e.each(function(){var b=a(this),c=b.attr("title");c&&!b.attr("placeholder")&&b.attr("placeholder",c)});else{e.each(function(){a(this).once("focus",f).once("blur",g).trigger("blur")});d.find("form").once("submit",j)}return d}},debug:{config:{selector:".sparkle-debug",hasClass:"sparkle-debug-has",hintedClass:"sparkle-debug-hinted",
showVar:"sparkle-debug-show",demo:""},extension:function(b,c){var d,e,f=a(this),g=f.findAndSelf(c.selector);if(!g.length)return true;g.addClass(c.hasClass).find(".value:has(.var)").hide().siblings(".name,.type").addClass("link").once("singleclick",d).once("dblclick",e);d=function(){var b=a(this),d=b.parent(),e=!d.data(c.showVar);d.data(c.showVar,e);b.siblings(".value").toggle(e)};e=function(){var b=a(this).parent(),d=b.data(c.showVar);b.data(c.showVar,d);b.find(".value").toggle(d)};return f}},submit:{config:{selector:".sparkle-submit",
demoText:"Adding the <code>sparkle-submit</code> class to an element within a <code>form</code> will submit the form when that element is clicked."},extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selector);if(!e.length)return true;e.once("singleclick",function(){a(this).submitForm();return true});return d}},submitswap:{config:{selector:".sparkle-submitswap",demoText:"Adding the <code>sparkle-submitswap</code> class to a submit button, will swap it's value with it's title when it has been clicked. Making it possible for a submit value which isn't the submit button's text."},
extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selector);if(!e.length)return true;e.once("singleclick",function(){var b=a(this);b.val(b.data("sparkle-submitswap-value"));return true});e.each(function(){var b=a(this);b.data("sparkle-submitswap-value",b.val());b.val(b.attr("title"));b.removeAttr("title")});return d}},"highlight-values":{config:{selector:".sparkle-highlight-values",innerSelector:"td,.column",empty:["",false,null,"false","null",0,"-"],emptyClass:"sparkle-highlight-values-empty",
notemptyClass:"sparkle-highlight-values-notempty",demoText:'Adding the <code>sparkle-highlight-values</code> class to a table will highlight all <code>td</code> elements with non empty values. By adding <code>sparkle-highlight-values-notempty</code> or <code>sparkle-highlight-values-empty</code> to the corresponding <code>td</code> element - which can by styled by yourself. Benefit over css\'s <code>:empty</code> as 0, false, null and - are counted as empty values (not just "").'},extension:function(b,
c){var d=a(this),e=d.findAndSelf(c.selector);if(!e.length)return true;e.findAndSelf(c.innerSelector).each(function(){var b=a(this),d=b.text().trim();c.empty.has(d)?b.addClass(c.emptyClass):b.addClass(c.notemptyClass)});return d}},demo:{config:{selector:".sparkle-demo",hasClass:"sparkle-debug-has",demoText:"Adding the <code>sparkle-demo</code> will display all these demo examples used on this page."},extension:function(b,c){var d=a(this),e=d.findAndSelf(c.selector);if(e.hasClass(c.hasClass)||!e.length)return true;
e.addClass(c.hasClass);var f=b.getExtensions();a.each(f,function(b,c){var d=c.config.demo||"",f=c.config.demoText||"";if(!d&&!f)return true;var k=a('<div class="sparkle-demo-section" id="sparkle-demo-'+b+'">\t\t\t\t\t\t\t\t<h3>'+b+"</h3>\t\t\t\t\t\t\t</div>");f&&k.append('<div class="sparkle-demo-text">'+f+"</div>");if(d){f=d.replace(/</g,"&lt;").replace(/>/g,"&gt;");k.append('<h4>Example Code:</h4>\t\t\t\t\t\t\t\t<pre class="code language-html sparkle-demo-code">'+f+'</pre>\t\t\t\t\t\t\t\t<h4>Example Result:</h4>\t\t\t\t\t\t\t\t<div class="sparkle-demo-result">'+
d+"</div>")}k.appendTo(e)});e.sparkle();return d}}})}})(jQuery);
